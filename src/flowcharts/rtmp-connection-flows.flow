start=>start: TCP(1935) ポートを開放する.
end=>end: 接続を閉じる.
handshake_tcp=>operation: TCP ハンドシェイクを行う.
handshake_rtmp=>operation: RTMP ハンドシェイクを行う.
application_connection=>operation: アプリケーション接続を行う.
message_id_allocation=>operation: メッセージストリームに ID を割り当てる.
publishing=>operation: 映像・音声データを送受信する.
has_publishing_done=>condition: 映像・音声の送受信が完了した.

start->handshake_tcp->handshake_rtmp->application_connection->message_id_allocation->publishing->has_publishing_done
has_publishing_done(true)->end
has_publishing_done(false)->publishing
